{"version":3,"sources":["core/utils.tsx","components/Board.tsx","core/move.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["getCurrentTurn","board","filter","value","undefined","length","turnIsX","turn","Board","props","players","score","newGameLabel","gameState","winAnimation","displayScore","join","console","log","isDisabled","index","showWinAnimation","includes","id","className","onClick","onPlayerClick","onBoardButtonClick","disabled","onNewGameClick","Move","currentSymbol","boardMap","symbolValues","X","O","computerAI","location","fns","canIWinThisTurn","bind","canYouWinNextTurn","applyHardCodedMoves","applyDefaultStrategy","i","this","createBoard","source","push","rowNumber","start","slice","colNumber","1","2","3","map","num","startSquare","winArray","every","v","row","square","winner","evalArray","findEmptyLocation","otherSymbol","arr","find","x","s","reduce","a","b","arr1","arr2","areEqual","forEach","idx","row1","row3","col1","col3","diag1","diag2","equalArrays","sideValues","sides","side","loc","getRow","getColumn","getDiagonal","App","useState","setPlayers","setScore","setNewGameLabel","Array","setBoard","setGameState","setWinAnimation","setWinner","handleMove","useCallback","target","currentBoard","useEffect","currentTurn","move","evaluateWin","delay","Math","random","setTimeout","toString","newScore","ev","playerToSet","newPlayers","Boolean","window","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.6c5f8935.chunk.js","sourcesContent":["import { BoardValue } from \"./types\";\r\n\r\nexport function getCurrentTurn(board: BoardValue[]): number {\r\n  return board.filter((value) => value !== undefined).length + 1;\r\n}\r\n\r\nexport function turnIsX(turn: number): boolean {\r\n  return turn % 2 !== 0;\r\n}\r\n","import React from \"react\";\r\nimport \"./Board.scss\";\r\nimport { getCurrentTurn } from \"../core/utils\";\r\n\r\nconst Board = (props: any) => {\r\n  const {\r\n    players,\r\n    score,\r\n    board,\r\n    newGameLabel,\r\n    gameState,\r\n    winAnimation\r\n  } = props;\r\n  const displayScore = score.join(\" : \");\r\n\r\n  const turn = getCurrentTurn(board);\r\n\r\n  console.log(board);\r\n\r\n  const isDisabled = (index: number): boolean => {\r\n    return board[index] !== undefined || gameState === \"complete\";\r\n  };\r\n\r\n  const showWinAnimation = (index: number): string => {\r\n    if (winAnimation && winAnimation.includes(index)) {\r\n      return 'winAnimation';\r\n    } \r\n    return '';\r\n  };\r\n\r\n  return (\r\n    <div id=\"main\">\r\n      <h1>ARTIFICAL INTELLIGENCE</h1>\r\n\r\n      <button\r\n        className={`playerSelect ${turn % 2 !== 0 ? \"underline\" : \"\"}`}\r\n        id=\"player1\"\r\n        onClick={() => props.onPlayerClick(0)}\r\n      >\r\n        {players[0]} - X\r\n      </button>\r\n\r\n      <div id=\"scoreBoard\">{displayScore}</div>\r\n      <button\r\n        className={`playerSelect ${turn % 2 === 0 ? \"underline\" : \"\"}`}\r\n        id=\"player2\"\r\n        onClick={() => props.onPlayerClick(1)}\r\n      >\r\n        O - {players[1]}\r\n      </button>\r\n\r\n      <table>\r\n        <tbody onClick={props.onBoardButtonClick}>\r\n          <tr>\r\n            <td>\r\n              <button className={showWinAnimation(0)} id=\"0\" disabled={isDisabled(0)}>\r\n                {board[0]}\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <button className={showWinAnimation(1)} id=\"1\" disabled={isDisabled(1)}>\r\n                {board[1]}\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <button className={showWinAnimation(2)} id=\"2\" disabled={isDisabled(2)}>\r\n                {board[2]}\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <button className={showWinAnimation(3)} id=\"3\" disabled={isDisabled(3)}>\r\n                {board[3]}\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <button className={showWinAnimation(4)} id=\"4\" disabled={isDisabled(4)}>\r\n                {board[4]}\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <button className={showWinAnimation(5)} id=\"5\" disabled={isDisabled(5)}>\r\n                {board[5]}\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <button className={showWinAnimation(6)} id=\"6\" disabled={isDisabled(6)}>\r\n                {board[6]}\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <button className={showWinAnimation(7)} id=\"7\" disabled={isDisabled(7)}>\r\n                {board[7]}\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <button className={showWinAnimation(8)} id=\"8\" disabled={isDisabled(8)}>\r\n                {board[8]}\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <button id=\"newGame\" onClick={props.onNewGameClick}>\r\n        {newGameLabel}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Board;\r\n","/**\r\n *    Board array index positions:\r\n *    0 | 1 | 2\r\n *    3 | 4 | 5\r\n *    6 | 7 | 8\r\n */\r\n\r\nimport {\r\n  Square,\r\n  SliceNum,\r\n  Row,\r\n  Column,\r\n  Diagonal,\r\n  Symbol,\r\n  BoardValue,\r\n  Winner,\r\n} from \"./types\";\r\n\r\nexport class Move {\r\n  public boardMap: Square[];\r\n  public currentSymbol: Symbol;\r\n  public turn: number = 1;\r\n\r\n  get otherSymbol(): Symbol {\r\n    return this.currentSymbol === \"X\" ? \"O\" : \"X\";\r\n  }\r\n\r\n  readonly symbolValues = {\r\n    X: 5,\r\n    O: 1,\r\n  };\r\n\r\n  constructor(board: BoardValue[], turn: number, currentSymbol: Symbol) {\r\n    this.boardMap = this.createBoard(board);\r\n    this.turn = turn;\r\n    this.currentSymbol = currentSymbol;\r\n  }\r\n\r\n  private createBoard(source: BoardValue[]): Square[] {\r\n    const boardMap = [];\r\n\r\n    for (let i = 0; i < 9; i++) {\r\n      boardMap.push({\r\n        location: i,\r\n        value: source[i],\r\n      });\r\n    }\r\n\r\n    return boardMap;\r\n  }\r\n\r\n  private getRow(rowNumber: SliceNum): Row {\r\n    const start = rowNumber * 3 - 3;\r\n    return this.boardMap.slice(start, start + 3) as Row;\r\n  }\r\n\r\n  private getColumn(colNumber: SliceNum): Column {\r\n    const columnMap = {\r\n      1: [0, 3, 6],\r\n      2: [1, 4, 7],\r\n      3: [2, 5, 8],\r\n    };\r\n\r\n    return columnMap[colNumber].map((num) => this.boardMap[num]) as Column;\r\n  }\r\n\r\n  private getDiagonal(startSquare: 0 | 2): Diagonal {\r\n    if (startSquare === 0) {\r\n      return [this.boardMap[0], this.boardMap[4], this.boardMap[8]];\r\n    } else {\r\n      return [this.boardMap[2], this.boardMap[4], this.boardMap[6]];\r\n    }\r\n  }\r\n\r\n  get sides() {\r\n    return [\r\n      this.boardMap[1],\r\n      this.boardMap[3],\r\n      this.boardMap[5],\r\n      this.boardMap[7],\r\n    ];\r\n  }\r\n\r\n  get winArray() {\r\n    return [\r\n      this.getRow(1),\r\n      this.getRow(2),\r\n      this.getRow(3),\r\n      this.getColumn(1),\r\n      this.getColumn(2),\r\n      this.getColumn(3),\r\n      this.getDiagonal(0),\r\n      this.getDiagonal(2),\r\n    ];\r\n  }\r\n\r\n  public computerAI = (): number => {\r\n    const fns = [\r\n      this.canIWinThisTurn.bind(this),\r\n      this.canYouWinNextTurn.bind(this),\r\n      this.applyHardCodedMoves.bind(this),\r\n      this.applyDefaultStrategy.bind(this),\r\n    ];\r\n\r\n    let location;\r\n    let i = 0;\r\n\r\n    while (!location && i < 4) {\r\n      location = fns[i++]();\r\n    }\r\n\r\n    return location as number;\r\n  };\r\n\r\n  public evaluateWin(): Winner | void {\r\n    for (let i = 0; i < this.winArray.length; i++) {\r\n      if (this.winArray[i].every((v) => v.value === \"X\")) {\r\n        return {\r\n          row: this.winArray[i].map((square) => square.location),\r\n          winner: \"X\",\r\n        };\r\n      } else if (this.winArray[i].every((v) => v.value === \"O\")) {\r\n        return {\r\n          row: this.winArray[i].map((square) => square.location),\r\n          winner: \"O\",\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  private canIWinThisTurn(): number | false {\r\n    for (let i = 0; i < this.winArray.length; i++) {\r\n      if (\r\n        this.evalArray(this.winArray[i]) ===\r\n        this.symbolValues[this.currentSymbol] * 2\r\n      ) {\r\n        return this.findEmptyLocation(this.winArray[i]);\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private canYouWinNextTurn(): number | false {\r\n    for (let i = 0; i < this.winArray.length; i++) {\r\n      if (\r\n        this.evalArray(this.winArray[i]) ===\r\n        this.symbolValues[this.otherSymbol] * 2\r\n      ) {\r\n        return this.findEmptyLocation(this.winArray[i]);\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private findEmptyLocation(arr: Row): number {\r\n    const square = arr.find((x) => x.value === undefined);\r\n    return square!.location;\r\n  }\r\n\r\n  private evalArray(arr: Row): number {\r\n    return arr\r\n      .map((s): number => {\r\n        if (!s.value) {\r\n          return 0;\r\n        } else {\r\n          return this.symbolValues[s.value as Symbol];\r\n        }\r\n      })\r\n      .reduce((a, b) => a + b);\r\n  }\r\n\r\n  private equalArrays(arr1: BoardValue[], arr2: BoardValue[]): boolean {\r\n    if (arr1.length !== arr2.length) return false;\r\n\r\n    let areEqual = true;\r\n\r\n    arr1.forEach((num, idx) => {\r\n      if (num !== arr2[idx]) {\r\n        areEqual = false;\r\n      }\r\n    });\r\n\r\n    return areEqual;\r\n    // return JSON.stringify(arr1) === JSON.stringify(arr2);\r\n  }\r\n\r\n  private applyHardCodedMoves(): number | false {\r\n    const [row1, row2, row3, col1, col2, col3, diag1, diag2] = this.winArray;\r\n\r\n    if (\r\n      this.turn === 5 &&\r\n      this.boardMap[1].value === \"O\" &&\r\n      this.boardMap[6].value === undefined\r\n    ) {\r\n      return 6;\r\n    }\r\n    if (\r\n      this.turn === 4 &&\r\n      (this.equalArrays(\r\n        diag1.map((s) => s.value),\r\n        [\"X\", \"O\", \"X\"]\r\n      ) ||\r\n        this.equalArrays(\r\n          diag2.map((s) => s.value),\r\n          [\"X\", \"O\", \"X\"]\r\n        ))\r\n    ) {\r\n      return 1;\r\n    }\r\n\r\n    if (\r\n      this.turn === 4 &&\r\n      this.evalArray(row1) === 6 &&\r\n      this.evalArray(row3) === 5\r\n    ) {\r\n      return 8;\r\n    }\r\n    if (\r\n      this.turn === 4 &&\r\n      this.evalArray(row1) === 5 &&\r\n      this.evalArray(row3) === 6\r\n    ) {\r\n      return 0;\r\n    }\r\n    if (\r\n      this.turn === 4 &&\r\n      this.evalArray(col1) === 6 &&\r\n      this.evalArray(col3) === 5\r\n    ) {\r\n      return 2;\r\n    }\r\n    if (\r\n      this.turn === 4 &&\r\n      this.evalArray(col1) === 5 &&\r\n      this.evalArray(col3) === 6\r\n    ) {\r\n      return 6;\r\n    }\r\n\r\n    const sideValues = this.sides.map((side) => side.value);\r\n\r\n    if (\r\n      this.turn === 4 &&\r\n      (this.equalArrays(sideValues, [\"O\", undefined, \"X\", \"X\"]) ||\r\n        this.equalArrays(sideValues, [\"O\", \"X\", undefined, \"X\"]) ||\r\n        this.equalArrays(sideValues, [\"X\", \"X\", \"O\", undefined]) ||\r\n        this.equalArrays(sideValues, [undefined, \"X\", \"O\", \"X\"]))\r\n    ) {\r\n      return 6;\r\n    }\r\n\r\n    if (\r\n      this.turn === 4 &&\r\n      (this.equalArrays(sideValues, [\"X\", \"O\", \"X\", undefined]) ||\r\n        this.equalArrays(sideValues, [undefined, \"O\", \"X\", \"X\"]) ||\r\n        this.equalArrays(sideValues, [\"X\", undefined, \"X\", \"O\"]) ||\r\n        this.equalArrays(sideValues, [\"X\", \"X\", undefined, \"O\"]))\r\n    ) {\r\n      return 2;\r\n    }\r\n\r\n    if (this.turn === 2) {\r\n      for (let i in this.sides) {\r\n        if (this.sides[i].value === \"X\") {\r\n          // pick opposite side\r\n          return 8 - this.sides[i].location;\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private applyDefaultStrategy(): number | false {\r\n    const strategy = [4, 0, 2, 6, 8, 1, 3, 5, 7]; // default order of play\r\n\r\n    const loc = strategy.find(\r\n      (index) => this.boardMap[index].value === undefined\r\n    );\r\n\r\n    if (loc !== undefined) {\r\n      return loc;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport \"./App.scss\";\nimport Board from \"./components/Board\";\n\nimport { Players, Score, RestartLabel, BoardValue, Symbol, GameState, Winner } from \"./core/types\";\nimport { getCurrentTurn, turnIsX } from \"./core/utils\";\nimport { Move } from \"./core/move\";\n\nfunction App() {\n  const [players, setPlayers] = useState<Players>([\"Human\", \"Skynet\"]);\n  const [score, setScore] = useState<Score>([0, 0]);\n  const [newGameLabel, setNewGameLabel] = useState<RestartLabel>(\"New game\");\n\n  const [board, setBoard] = useState<BoardValue[]>(new Array(9));\n  const [gameState, setGameState] = useState<GameState>(\"in progress\");\n  const [winAnimation, setWinAnimation] = useState<number[] | undefined>();\n  const [winner, setWinner] = useState<Winner | undefined>();\n\n  const handleMove = useCallback(\n    (target) => {\n      if (target.id) {\n        const currentTurn = getCurrentTurn(board);\n        const currentSymbol: BoardValue = turnIsX(currentTurn) ? \"X\" : \"O\";\n        const currentBoard = [...board];\n        currentBoard[target.id] = currentSymbol;\n\n        setBoard(currentBoard);\n      }\n    },\n    [board]\n  );\n\n  useEffect(() => {\n    const currentTurn = getCurrentTurn(board);\n    const currentSymbol: Symbol = turnIsX(currentTurn) ? \"X\" : \"O\";\n    const move = new Move(board, currentTurn, currentSymbol);\n    const winner = move.evaluateWin();\n\n    if (winner || currentTurn > 9) {\n      setWinner(winner as Winner);\n    } else if (\n      (players[0] === \"Skynet\" && currentSymbol === \"X\") ||\n      (players[1] === \"Skynet\" && currentSymbol === \"O\")\n    ) {\n      const delay = Math.random() * 1000;\n      setTimeout(() => {\n        const location = move.computerAI();\n  \n        if (location !== undefined) {\n          handleMove({ id: location.toString() });\n        }\n      }, delay);\n      \n    }\n  }, [board, players, handleMove]);\n\n  useEffect(() => {\n    if (winner && gameState !== 'complete') {\n      setNewGameLabel('Play again?');\n      setGameState('complete');\n\n      if (winner) {\n        const newScore = [...score];\n        if (winner.winner === 'X') {\n          newScore[0]++;\n        } else {\n          newScore[1]++;\n        }\n        setScore(newScore as Score);\n        setWinAnimation(winner.row);\n      }\n    }\n\n  }, [winner, score, gameState])\n\n  const handlePlayerClick = (idx: number) => {\n    const playerToSet = players[idx];\n\n    const newPlayers = [...players] as Players;\n    newPlayers[idx] = playerToSet === \"Human\" ? \"Skynet\" : \"Human\";\n    setPlayers(newPlayers);\n    setScore([0, 0]);\n  };\n\n  const handleNewGameClick = () => {\n    setBoard(new Array(9));\n    setGameState('in progress');\n    setWinAnimation(undefined);\n    setWinner(undefined);\n    setNewGameLabel(\"New game\");\n  };\n\n  return (\n    <div className=\"container\">\n      <Board\n        players={players}\n        score={score}\n        board={board}\n        gameState={gameState}\n        newGameLabel={newGameLabel}\n        winAnimation={winAnimation}\n        onBoardButtonClick={(ev: any) => handleMove(ev.target)}\n        onNewGameClick={handleNewGameClick}\n        onPlayerClick={handlePlayerClick}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}